{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Matrix Bot Command Standard","text":"<p>The Matrix Bot Command Standard is the unofficial standard on how to define and process commands of bots for the Matrix Protocol.</p> <p>It's main goal is to unify bot commands and make the interaction with bots easier for developers and users. Because every bot having slightly different syntax and command structure does not help UX.</p> <p>This website and cyb3rko/matrix-botc is the home of the specification and command process library for Golang.</p>"},{"location":"#chapters","title":"Chapters","text":"<ul> <li> <p> Read the Specification</p> <p>Jump right into the details and try to follow the MBCS.</p> <p> Specification</p> </li> <li> <p> Use the Processing Library</p> <p>Learn more on how to integrate the MBCS processing library in your project.</p> <p> Processing Library</p> </li> </ul>"},{"location":"processor/","title":"Matrix Bot Commands","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"processor/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"processor/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"specification/","title":"[Draft] MBCS - Specification Version 1.0","text":"<p>This is the unofficial standard on how to define and process commands of bots for the Matrix Protocol.</p> <p>Responsible for evaluating compliance with this specification are project maintainers themselves. If they think of their project to be compliant, they can add this badge to their documentation and/or README(s):</p> <p> (CODE) (Feel free to modify the badge as needed)</p> <p>To better explain the details, we use the following example statement from Draupnir as reference:  </p> <p>Definition: <pre><code>!dp list create &lt;shortcode&gt; &lt;alias localpart&gt;\n</code></pre></p> <p>Usage: <pre><code>!dp list create mylist local-alias\n</code></pre></p>"},{"location":"specification/#components","title":"Components","text":"<p>In the following, the different components of a statement are listed and explained. All components should be separated from each other by a single whitespace.</p>"},{"location":"specification/#prefix","title":"Prefix","text":"<p>The prefix is the first part of the statement, which identifies the recipient. This prefix helps a bot identify which statements he has to respond to and which to ignore.</p> <p>It shall always have a leading exclamation mark, followed by a minimum of two and a maximum of ten letters and digits. A prefix shall be considered case-insensitive.</p> <p>RegEx: <code>^![a-z0-9]{2,10}$</code> Example:</p> <ul> <li><code>!dp</code> (see example)</li> <li><code>!botv3</code></li> <li><code>!longprefix</code></li> </ul>"},{"location":"specification/#command","title":"Command","text":"<p>The command is the part of the statement that indicates what action to execute. Statements may contain one or more commands, located right after the prefix. For the exception of a statement without a command, see </p> <p>It shall consist of a minimum of one and a maximum of twenty letters and digits. A command shall be considered case-insensitive.  </p> <p>(In the case of a statement without any command, so only the prefix itself, the command <code>help</code> shall be implicitly assumed.)</p> <p>RegEx: <code>^[a-z0-9]{1,20}$</code> Examples:</p> <ul> <li><code>list</code> (see example)</li> <li><code>create</code> (see example)</li> <li><code>find2words</code></li> </ul>"},{"location":"specification/#command-chain","title":"Command Chain","text":"<p>A command chain is the combination of multiple commands in a single statement. They should be separated by a single whitespace.</p> <p>Example:</p> <ul> <li><code>list create</code> (see example)</li> <li><code>config add</code></li> <li><code>status update</code></li> </ul>"},{"location":"specification/#arguments","title":"Arguments","text":"<p>A command or command chain may have one or more parameters, here called arguments. They shall be considered case-sensitive. This standard does not define valid characters for arguments, as you may pass anything that can be processed by the Matrix protocol, the homeserver and the bot logic.</p> <p>Multiple arguments shall be separated by a single whitespace. If an argument contains one or more whitespaces, surround the argument with single quotation marks.</p> <p>Examples:</p> <ul> <li><code>mylist local-alias</code> (see example)</li> <li><code>!GKPWoymMiVrWlSLhud:matrix.org</code></li> <li><code>'example argument'</code></li> </ul>"},{"location":"specification/#processing","title":"Processing","text":""},{"location":"specification/#whitespace-handling","title":"Whitespace Handling","text":"<p>Before every processing step of a statement, leading and trailing whitespace shall be removed (trimmed). (Whitespace visualized as _)</p> <ol> <li><code>__!dp__list___create_mylist__local-alias_</code> shall be processed as <code>!dp__list___create_mylist__local-alias</code></li> <li><code>__list___create_mylist__local-alias</code> shall be processed as <code>list___create_mylist__local-alias</code></li> <li><code>___create_mylist__local-alias</code> shall be processed as <code>create_mylist__local-alias</code></li> <li><code>_mylist__local-alias</code> shall be processed as <code>mylist__local-alias</code></li> </ol>"},{"location":"specification/#case-handling","title":"Case Handling","text":"<p>Before every processing step and after the Whitespace Handling, the input shall be converted to lowercase, unless processing arguments (the only case-sensitive statement component).</p> <p>That way the processor does not have to distinguish between e.g. the prefixes <code>!dp</code>, <code>!Dp</code>, <code>!dP</code> and <code>!DP</code>.</p>"},{"location":"specification/#statement-recognition","title":"Statement Recognition","text":"<p>A statement received by the bot shall only be processed if the trimmed statement...</p> <ul> <li>starts with the prefix and at least one whitespace,</li> <li>consists of only the prefix</li> <li>or is the bot self-disclosure trigger.</li> </ul> <p>In all other cases, the message shall not be further processed.</p>"},{"location":"specification/#argument-handling","title":"Argument Handling","text":"<p>All arguments of a command shall be trimmed (see Whitespace Handling) and converted into a list of strings. The logic for a command shall receive a list of strings from the processor, filled with the trimmed arguments or empty if no arguments passed.</p>"},{"location":"specification/#help-pages","title":"Help pages","text":"<p>Unexpected input from the user shall never be ignored, instead the most relevant help page shall be returned to the user. The prefix without a command and every command in the command chain shall provide a help page. The help page to a command shall be requestable with the input <code>&lt;command&gt; help</code> or by omitting following commands and arguments like <code>&lt;command&gt;</code>.</p> <p>The following list shows a recommended help page fall-back logic based on the example statement:</p> <ul> <li><code>!dp</code> <code>!dp help</code></li> <li><code>!dp &lt;unknown_command&gt;</code> <code>!dp help</code></li> <li><code>!dp list</code> <code>!dp list help</code></li> <li><code>!dp list &lt;unknown_subcommand&gt;</code> <code>!dp list help</code></li> <li><code>!dp list create</code> <code>!dp list create help</code></li> <li><code>!dp list create &lt;unexpected_argument(s)&gt;</code> <code>!dp list create help</code></li> </ul>"},{"location":"specification/#bot-self-disclosure","title":"Bot Self-Disclosure","text":"<p>To allow the end user to see active bots in a room and which bots he can interact with, there's the general bot self-disclosure trigger statement:</p> <p><code>!bots</code></p> <p>This command may be answered by any bot listening with the following information:</p> <ul> <li>Name: the name of the bot</li> <li>Author: the author of the bot</li> <li>Version: the currently running version of the bot</li> <li>'About' Link: a URL to a web page with more information about the bot, preferably Git repos (GitHub, GitLab, etc.)</li> <li>Interaction Notice: an indicator wether a standard user (moderators/admins excluded) is allowed to interact with the bot (for example: 'Yes' / 'No')</li> </ul>"}]}